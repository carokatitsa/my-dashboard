<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>–®–∞—Ö–º–∞—Ç–Ω—ã–µ –¥–µ–±—é—Ç—ã</title>

<!-- CSS –¥–æ—Å–∫–∏ -->
<link rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/chessboard-1.0.0.min.css"/>

<style>
body {
  margin:0;
  font-family: Arial, sans-serif;
  background:#0b0f17;
  color:#e8eefc;
  text-align:center;
}
header {
  background:#111a2e;
  padding:16px;
}
nav a {
  color:#e8eefc;
  margin-right:14px;
  text-decoration:none;
  font-weight:600;
}
#board {
  width:400px;
  margin:30px auto;
}
</style>

</head>
<body>

<header>
<nav>
  <a href="index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a>
  <a href="coins.html">ü™ô –ú–æ–Ω–µ—Ç—ã</a>
  <a href="languages.html">üìö –Ø–∑—ã–∫–∏</a>
  <a href="training.html">üí™ –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</a>
  <a href="chess.html">‚ôü –®–∞—Ö–º–∞—Ç—ã</a>
</nav>
</header>

<h1>‚ôü –†–µ–ø–µ—Ç–∏—Ç–æ—Ä –¥–µ–±—é—Ç–æ–≤</h1>

<div id="board"></div>

<button onclick="resetBoard()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>

<!-- –í–ê–ñ–ù–û: —Å–Ω–∞—á–∞–ª–∞ jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

<!-- –ø–æ—Ç–æ–º chess.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.13.4/chess.min.js"></script>

<!-- –ø–æ—Ç–æ–º chessboard -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/chessboard-1.0.0.min.js"></script>

<script>

const game = new Chess();

const board = Chessboard('board', {
  draggable: true,
  position: 'start',
  onDrop: onDrop
});

const moves = ["d4", "d5", "c4", "e6", "Nf3", "Nf6"];
let moveIndex = 0;

function onDrop(source, target) {

  const move = game.move({
    from: source,
    to: target,
    promotion: 'q'
  });

  if (move === null) return 'snapback';

  if (move.san !== moves[moveIndex]) {
    alert("‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ö–æ–¥");
    game.undo();
    return 'snapback';
  }

  moveIndex++;

  if (moveIndex < moves.length) {
    setTimeout(() => {
      game.move(moves[moveIndex]);
      board.position(game.fen());
      moveIndex++;
    }, 500);
  }
}

function resetBoard() {
  game.reset();
  board.start();
  moveIndex = 0;
}

</script>

</body>
</html>
