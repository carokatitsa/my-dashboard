<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Pure Chess Board</title>

<style>
body {
  font-family: Arial;
}

#board {
  display: grid;
  grid-template-columns: repeat(8, 70px);
  grid-template-rows: repeat(8, 70px);
  width: 560px;
  border: 2px solid black;
}

.square {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 48px;
  cursor: pointer;
  user-select: none;
}

.white { background: #f0d9b5; }
.black { background: #b58863; }

.selected {
  outline: 3px solid red;
}
</style>
</head>

<body>

<h2>Pure Chess Board (No Libraries)</h2>
<button onclick="resetBoard()">Reset</button>

<div id="board"></div>

<script>
const boardElement = document.getElementById("board");
let selected = null;

// стартовая позиция
const startPosition = [
  ["♜","♞","♝","♛","♚","♝","♞","♜"],
  ["♟","♟","♟","♟","♟","♟","♟","♟"],
  ["","","","","","","",""],
  ["","","","","","","",""],
  ["","","","","","","",""],
  ["","","","","","","",""],
  ["♙","♙","♙","♙","♙","♙","♙","♙"],
  ["♖","♘","♗","♕","♔","♗","♘","♖"]
];

let boardState = JSON.parse(JSON.stringify(startPosition));

function drawBoard() {
  boardElement.innerHTML = "";

  for (let row = 0; row < 8; row++) {
    for (let col = 0; col < 8; col++) {

      const square = document.createElement("div");
      square.classList.add("square");
      square.classList.add((row + col) % 2 === 0 ? "white" : "black");

      square.dataset.row = row;
      square.dataset.col = col;
      square.textContent = boardState[row][col];

      square.addEventListener("click", handleClick);

      boardElement.appendChild(square);
    }
  }
}

function handleClick(e) {
  const row = e.target.dataset.row;
  const col = e.target.dataset.col;

  if (selected === null) {
    if (boardState[row][col] !== "") {
      selected = { row, col };
      e.target.classList.add("selected");
    }
  } else {
    movePiece(selected.row, selected.col, row, col);
    selected = null;
    drawBoard();
  }
}

function movePiece(fromRow, fromCol, toRow, toCol) {
  boardState[toRow][toCol] = boardState[fromRow][fromCol];
  boardState[fromRow][fromCol] = "";
}

function resetBoard() {
  boardState = JSON.parse(JSON.stringify(startPosition));
  selected = null;
  drawBoard();
}

drawBoard();
</script>

</body>
</html>
